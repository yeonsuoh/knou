# 11강 인덱싱

## 1. 인덱스의 이해

### 인덱스의 개념

- 데이터 검색 시 발생하는 비효율적인 데이터 입출력 문제를 해결하기 위한 목적으로 시작
    - 인덱스 : 요청된 레코드에 빠르게 접근할 수 있도록 지원하는 데이터와 관련된 부가적인 구조
    - 인덱싱 : 인덱스를 구성하고 생성하는 작업
- 인덱스의 탐색키를 이용하여 해당 레코드가 저장된 블럭을 위치를 파악하고 해당 블럭을 빠르게 적재
- 탐색키(검색키) : 파일에서 레코드를 찾는데 사용되는 컬럼이나 컬럼의 집합

### 인덱스의 종류와 평가기준

- 종류
    - 순서 인덱스
    - 해시 인덱스
- 평가기준
    - 접근 시간
    - 유지 비용
    - 공간 비용

## 2. 순서 인덱스

### 순서 인덱스의 특징

- 탐색키로 정렬된 순차 파일에 대하여 레코드에 대한 빠른 접근이 가능하도록 구성한 인덱스

### 인덱스 엔트리

- 탐색키 값
- 포인터
- 블럭ID
- 오프셋

### 밀집 인덱스 (dense index)

- 모든 레코드에 대해 탐색키 값 | 포인터 쌍을 유지

### 희소 인덱스 (sparce index)

- 인덱스의 엔트리가 일부의 탐색키 값만을 유지

### 다단계 인덱스

- 내부 인덱스와 외부 인덱스로 구성

## 3. B+ 트리 인덱스

### B+ 트리의 구조

- 루트노드
- 중간노드
- 단말노드
- 루트노드로부터 모든 단말노드에 이르는 경로의 길이가 같은 높이 균형 트리

### B+ 트리의 구성 요소

- 인덱스 세트 : 루트노드와 중간노드로 구성
    - 단말노드에 있는 탐색키 값을 신속하게 찾아갈 수 있도록 경로를 제공하는 목적으로 사용
- 순차 세트 : 단말노드로 구성
    - 모든 노드가 순차적으로 서로 연결
    - 탐색키에 대한 실제 레코드를 지칭하는 포인터를 제공

### B+ 트리 상에서의 삽입과 삭제

- 삽입 : 검색과 같은 방법을 사용하여 삽입되는 레코드의 탐색키 값이 속할 단말 노드를 탐색
    - 삽입 대상 노드에 추가적인 저장할 공간 부족 : 노드 분할
- 삭제 : 삭제될 레코드의 탐색키를 통해 삭제될 탐색키와 포인터를 포함한 단말 노드를 탐색
    - 단말노드에서 제거된 엔트리의 오른쪽에 있는 엔트리들은 빈 공간이 없도록 왼쪽으로 이동