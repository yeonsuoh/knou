# 제5장. SQL  (4강 - SQL(1))

# 5.1 SQL 개요

- 관계대수에 기초해 RDBMS의 데이터 관리를 위해 1970년대 초 IBM에서 설계
- 비절차적 (선언형) 언어

# 5.3 데이터 정의 언어

- 데이터베이스 객체를 생성, 삭제 또는 구조를 수정하는 명령어의 집합
- 데이터베이스 객체의 종류
    - 데이터 저장: 스키마(데이터베이스), 테이블, 인덱스, 뷰
    - 데이터 조작 : 트리거, 프로시저, 함수 등

## 5.3.1 스키마 정의

- 한 조직의 데이터베이스 시스템의 운영에 필요한 테이블, 인덱스, 뷰 등의 데이터베이스 객체의 집합

## 5.3.2 테이블 정의

- 물리적으로 데이터를 저장하는 구체적인  개념
    - 레코드의 순서가 존재 가능
    - 키 제약에 따라 중복된 레코드가 존재 가능

### (1) 테이블 생성

- CREATE TABLE 테이블이름 ()

### (2) 데이터 타입

- 컬럼이 가질 수 있는 값의 범위, 즉 도메인을 결정
- 프로그래밍 언어의 데이터타입의 사용목적과 방법이 매우 유사

### 1) CHAR(n)과 VARCHAR(n)

### 2) INT와 FLOAT

### 3) DECIMAL(n[,m])과 NUMERIC(n[,m])

- 고정 소수형

### 4) DATETIME과 TIMESTAMP

### 5) ENUM과 SET

### (3) 테이블 수정

ALTER TABLE 테이블이름

### (4) 테이블 삭제

DROP TABLE 테이블이름

## 5.3.3 제약조건의 사용

- 데이터를 무결하고 세밀하게 관리하기 위한 목적으로 사용

### (1) PRIMARY KEY 절

### (2) NOT NULL 절

### (3) UNIQUE 절

### (4) AUTO_INCREMENT 절

### (5) DEFAULT

### (6) FOREIGN KEY 절

### (7) CHECK 절

- 테이블의 특정 컬럼 값이 특정 조건을 만족해야만 저장되도록 제한하는 제약조건
- 예 : salary DECIMAL(10,2) CHECK (salary >= 30000)

---
# 5강 - SQL(2)

# 1. 데이터의 삽입

## 데이터 조작 언어의 개념

- 데이터 정의 언어로 정의된 데이터베이스 내의 데이터에 대해 여러 연산을 수행하기 위한 명령어의 집합
  - 사용자에게 데이터베이스에 저장된 데이터를 처리할 수 있게 하는 일체의 도구를 제공
  - SQL 명령어의 집합
- 데이터 조작 언어는 실행 즉시 반영되는 영구적 변경을 위한 명령어의 집합이 아니며 복구가 가능

## 명령어의 종류

- INSERT
  - INSERT INTO () VALUES ()
  - 문자와 날짜 값은 따옴표(’) 처리
  - 테이블에서 검색의 결과를 새로운 레코드로 삽입 시 사용 가능
- UPDATE
- DELETE
- SELECT

# 2. 데이터의 수정과 삭제

### UPDATE 명령어

- 조건을 만족하는 레코드의 특정 컬럼값을 수정
  - UPDATE () SET column = value [WHERE 조건]

### DELETE 문

- 조건에 일치하는 레코드 집합을 테이블에서 삭제할 때 사용하는 명령어
  - DELETE FROM 테이블이름 [WHERE 조건]

### WHERE 절 확인

- WHERE 절이 없는 UPDATE 및 DELETE 문은 전체 테이블을 대상으로 실행

# 3. 데이터의 검색

### SELECT 명령어

- 한 개 이상의 테이블에서 주어진 조건에 만족하는 레코드를 출력하는 명령문
- 관계 대수의 셀렉션, 프로젝션, 조인, 카티션 프로덕트 연산자의 기능을 모두 포함하는 명령문

### SELECT의 구문형식

- SELECT
- FROM
- ON
- WHERE
- GROUP BY
- HAVING
- ORDER BY

### 단순 SELECT 문

- 레코드를 제한하지 않고 (WHERE 없음) 전체 테이블을 검색
  - DISTINCT 키워드를 통해 중복 제거 가능

### 조건 SELECT 문

- 산술연산자
  - 컬럼값 또는 상수와의 산술 연산
  - DIV, /, -, MOD(%), +, *
- 비교연산자
  - 컬럼값과 상수의 크기를 비교하는 연산자
  - =, <>(≠), >, ≥, <, ≤
- 논리연산자
  - 두 개 이상의 조건이 기술되는 질의문에서 조건식 간의 관계를 정의하는 연산자
  - AND, OR, NOT