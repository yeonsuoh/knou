# 9강 객체지향 분석과 설계

## 1 객체지향 분석과 설계 개요

### 객체지향 분석과 설계

- 시스템을 상호작용하는 객체들로 모델링
    - 객체의 협력과 상호작용을 표현하는 모델을 생성
    - 시스템 구성, 정적 구조, 동적 행위 등을 UML로 표현
- 객체지향 분석(OOA)과 설계(OOD) 과정은 일반적으로 반복적 점증적 프로세스
- 객체지향 분석
    - 결과물은 시스템이 기능적으로 **무엇을 수행하는지**를 설명한 것
    - 유스케이스 다이어그램, 유스케이스 명세
    - 문제 도메인을 분석하여 개념 모델을 작성
    - 클래스 다이어그램 , 상호작용 다이어그램
- 객체지향 설계
    - 결과물은 시스템을 **어떻게 만들 것인가** 를 설명하는 것
    - 분석 과정의 모델을 비기능적 요구사항과 아키텍처를 고려하여 변환
    - 개념 클래스는 구현 클래스로 변환됨
    - 응답 시간 , 처리율 , 실행 플랫폼 , 개발 환경 , 프로그래밍 언어를 고려

## 2. 요구사항 추출

### 요구 공학

- 고객이 이해할 수 있는 요구사항 명세서를 작성
- 요구사항 명세서는 분석 활동 동안 구조화되고 정형화되어짐
- 시나리오에 기초한 , 요구사항 추출을 위한 활동

### 액터 찾기

- 액터는 시스템과 상호작용하는 사람이나 외부 시스템
- 액터의 식별은 요구사항 추출의 첫 단계

### 시나리오 찾기

- 시나리오
    - 액터가 보는 시스템의 단일 기능을 이야기 식으로 기술한 것
- 시나리오가 유스케이스와 다른 점
    - 특정 사례에 초점을 두며 모든 가능한 상황을 기술하는 것은 아님
- 시나리오를 찾기 위한 질의
    - 시스템이 수행해 주길 바라는 작업

### 유스케이스 찾기

- 시나리오는 유스케이스의 인스탄스
    - 시나리오는 특정한 하나의 사례 , 유스케이스는 유사 기능의 모든 사례
- 해당 기능의 모든 가능한 시나리오를 명세한 것
- 참여 액터
    - 유스케이스를 시작시키는 액터와 정보를 제공받는 액터
- 유스케이스 명세의 구성
    - 선행 조건과 종료 조건
    - 기본 이벤트 흐름
    - 대체 이벤트 흐름
    - 특수 요구사항

### 유스케이스 상세화

- 요구사항을 상세히 명세함

### 액터와 유스케이스 간의 관계 찾기

- 모델의 복잡성을 줄이고 이해도를 높이기 위한 것으로
  통신, 확장, 포함, 상속 관계를 찾아 정리함
- 통신 관계
    - 유스케이스와 이것을 시작시키는 액터 또는 유스케이스와 통신하는 액터 사이의 관계

### 유스케이스들 간의 관계 찾기

- 확장 관계
    - 확장 유스케이스는 기본 유스케이스에서 예외적이며 선택적인 사건의 흐름을 떼어 내는 것
    - 특정 조건하에서 확장된 행위를 포함하면 확장 유스케이스로 분리
- 포함 관계
    - 유스케이스들에서 존재하는 공통의 기능을 분리
    - 소스 유스케이스와 재사용 가능한 공통 유스케이스로 분리
    - 중복성을 줄이기 위해 공통 유스케이스로 분리하는 것
    - 소스 유스케이스에는 공통의 유스케이스가 반드시 필요함
- 상속관계
    - 액터들 사이나 유스케이스들 사이에도 상속 관계가 존재

## 3. 분석

### 분석 모델

- 기능 모델
    - 요구 추출에 유스케이스와 사용자 스토리 방법을 사용
    - 결과물로 유스케이스 다이어그램과 유스케이스 명세를 작성
    - 계속적으로 수정 보완됨
- 분석 객체 모델
    - 응용 도메인을 설명하는 개념 모델로서 클래스 다이어그램으로 표현
- 동적 모델
    - 개념 모델을 확장하여 액터와 시스템의 상호작용을 표현 (시퀀스 다이어그램)
    - 단일 객체의 상태 변화를 모델링 (상태 머신 다이어그램)

### 기능 모델

- 기능 모델 - 유스케이스와 사용자 스토리
- 유스케이스 다이어그램
    - 소프트웨어 시스템과 외부 환경과의 상호 작용을 표현함
    - 막대 인간은 액터로 시스템과 상호 작용하는 외부 개체 사람이나 외부 시스템
    - 사각 박스로 시스템의 경계를 표시
    - 타원은 유스케이스로 액터가 이용하는 기능
    - 직선은 액터가 유스케이스를 시작시키거나 , 유스케이스의 결과를 받는 것을 표현
- 유스케이스
    - 사용자와 시스템 사이의 일반적 상호작용 예외적 상호작용 및 사전 조건 , 사후 조건을 기술한 구조화된 텍스트
    - 반복적 개발 프로세스에서 유스케이스는 점차적으로 구체화됨
    - 하나의 유스케이스에서 정의된 행위를 기술하기 위해 시퀀스 다이어그램을 작성하게 됨
- 사용자 스토리
    - 초기 요구사항 발견과 프로젝트 계획에 사용되는 짧은 대화형의 텍스트
    - 애자일 방법에서 널리 사용됨
    - 2~4 문장 정도로 시스템이 해야 하는 일을 3x5 인치 카드에 작성

### 분석 객체 모델

- 사용자 관점에서 시스템을 표현
    - 다루어야 하는 개별 개념들과 그들 간의 관계를 표현
    - 클래스 다이어그램으로 표현
    - 개념은 클래스로 표현되며 속성과 오퍼레이션을 가짐
    - 분석 모델에서 클래스는 고수준으로 추상화되어 표현됨

- 엔터티 / 경계 / 제어 객체
    - 3개의 유형으로 구분함
    - 유형을 구분함으로써 작고 특화된 객체를 만들게 되고 변경이 용이해짐

### 동적 모델

- 시퀀스 다이어그램
    - 단일 유스케이스에서 객체들의 상호작용을 표현
    - 개별 클래스에 책임을 할당
    - 설계 과정을 거치면 하나의 클래스는 소스 코드 상에서 하나 이상의 구현 클래스에 대응됨
- 상태 머신 다이어그램
    - 단일 객체 관점에서 시스템의 행위를 표현
    - 긴 생명주기와 상태 종속적 행위를 하는 객체들만을 고려하는 것이 좋음
    - 대개 제어 객체를 대상으로 작성함
    - 작성 과정에서 객체의 행위를 정형화하며 빠뜨린 오퍼레이션을 발견할 수 있음

### 분석 활동

- 자연언어 분석 방법
- 엔터티 객체 찾기
- 경계 객체 찾기
    - 사용자 인터페이스를 모델링 한 것
- 제어 객체 찾기
    - 실제적 기능을 수행하는 부분으로 경계 객체와 엔터티 객체 사이의 조정자
    - 경계 객체로부터 정보를 받아 엔터티 객체로 보내는 역할
- 객체의 종류를 구분하여 표기하는 방법
    - 이름에 접미사를 사용 (예 ) Loan은 엔터티 객체 , LoanForm은 경계 객체 ,LoanControl은 제어 객체)
    - 스테레오타입을 사용하여 메타 정보를 추가 (예 ) 《 boundary 》 , 《 control 》 , 《 entity 》)
- 유스케이스를 시퀀스 다이어그램으로 변환하기
- 연관 찾기
    - 연관의 이름 , 연관에 참여하는 클래스의 역할 , 관계의 다중성을 표현
- 집합체 연관 찾기
    - 전체 부품 관계 또는 포함 관계 를 표현하는 특별한 유형의 연관
    - 구성 집합체는 부품의 존재가 전체에 의존하는 경우
    - 공유 집합체 연관은 독립적으로 존재하거나 여러 집합체에 의해 공유될 수 있음
- 속성 찾기
- 객체의 상태 종속적 행위를 모델링하기
- 객체 간의 상속 관계 모델링하기
    - 상속 관계를 이용하여 모델에 등장하는 중복성을 제거할 수 있음

## 4. 시스템 설계

- 분석 모델을 시스템 설계 모델로 변환하는 작업
    - 분석 모델은 시스템의 내부 구조 , 하드웨어 형상 및 구현 방법 등에 관한 정보를 포함하지 않음
- 시스템 설계의 결과
    - 소프트웨어 아키텍처의 결정

### 설계 목표의 설정

- 설계 목표의 설정은 시스템 설계의 시작으로 대개 비기능 요구사항과 응용 도메인으로부터 유도됨
    - 성능 요인
    - 의존성 요인
    - 비용 요인
    - 유지보수 요인
    - 사용자 요인

### 아키텍처 설계에서 다루는 문제

- 하드웨어와 소프트웨어의 연결
    - 기성 컴포넌트나 COTS 를 이용할 수 있는가
- 데이터 관리
- 접근 제어
- 제어 흐름
    - 시스템의 동작 순서
    - 이벤트 중심 제어나 동시 사용자의 허용 여부를 결정
- 경계 조건
    - 시스템이 어떻게 시작되고 종료되는가
    - 예외 상황을 어떻게 처리할 것인가

## 5. 통합 프로세스(Unified Process)

- UP 는 객체지향 분석과 설계를 위한 방법론
    - 여러 개발 방법론의 장점을 통합
    - 반복적이고 점증적인 프로세스를 위한 프레임워크
    - 개발 조직이나 프로젝트에 맞추어 사용될 수 있음
    - RUP 는 UP 를 상세히 다듬고 HTML 로 문서화한 제품
- UP 가 강조하는 사항
    - 반복적 개발
    - 유스케이스 기반의 개발
    - 아키텍처를 중요시 함
    - 프로젝트 초기에 중요한 위험을 다룰 것

### UP 생명주기

- RUP 는 작업을 프로세스 분야(discipline)에 따라 구분함
    - 6개의 공학 분야 (비즈니스 모델링, 요구사항, 분석과 설계, 구현, 테스트, 배포)
    - 3개의 지원 분야 (형상 관리, 프로젝트 관리, 환경)
- UP 생명주기
    - 도입 , 정련 , 구축 , 전이의 4 단계로 구성됨
    - 정련 , 구축 , 전이는 각각 일련의 반복으로 구성됨
- 도입 , 정련 , 구축 , 전이 의 반복 단계에서 각 분야의 비중이 다름

### RUP 4단계

- 도입(Inception)
    - 1 주 정도의 짧은 기간에 수행
    - 주요 요구사항을 나열 . 10% 정도의 유스케이스를 상세히 작성
- 정련(Elaboration)
    - 핵심 아키텍처를 구축하고 대부분의 요구사항을 명확히 정의
    - 정련의 초기에 30%, 종료까지 80% 정도의 유스케이스를 상세히 작성
- 구축(Construction)
    - 남아 있는 부분을 설계하고 구현하여 통합함
- 전이(Transition)
    - 사용자 환경으로 시스템을 옮김